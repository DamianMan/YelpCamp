<%- layout('layouts/boilerplate') %>

    <div class="row">
        <h1 class="text-center mt-5">Edit <%= camp.title %>
        </h1>
        <div class="col-md-6 offset-md-3">
            <form class="validateForm" action="/campgrounds/<%= camp.id %>/?_method=PUT" method="POST"
                enctype="multipart/form-data" novalidate>
                <label class="form-label" for="title">Title</label>
                <input class="form-control mb-3" type="text" name="title" id="title" value="<%= camp.title %>" required>



                <label class="form-label" for="location">Location</label>
                <input class="form-control mb-3" type="text" name="location" id="location" value="<%= camp.location %>"
                    required>


                <label for="image" class="form-label">Add Images</label>
                <input class="form-control mb-3" type="file" name="image" id="image" multiple>

                <label for="price" class="form-label">Price</label>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="price">$</span>
                    <input type="number" class="form-control" id="price" name="price" value="<%= camp.price %>"
                        aria-describedby="basic-addon3" required>
                </div>


                <label class="form-label" for="description">Description</label>
                <textarea class="form-control mb-3" name="description" id="description" cols="50" rows="2"
                    required><%= camp.description %></textarea>
                <div class="mb-3">


                    <% camp.image.forEach((img, i)=> { %>
                        <img class="rounded d-inline mb-3" src="<%= img.url %>" alt="img" width="300" height="300">
                        <div class="form-check-inline">
                            <input type="checkbox" name="deleteImages[]" id="image-<%=i %>" value="<%= img.filename %>">
                        </div>
                        <label for="image-<%= i %>">Delete?</label>
                        <% }) %>
                </div>

                <button class="btn btn-info me-3">Update</button>
            </form>
            <form class="mt-3" action="/campgrounds/<%= camp.id %>/?_method=DELETE" method="POST">
                <button class="btn btn-danger">Delete</button>
            </form>

        </div>
    </div>